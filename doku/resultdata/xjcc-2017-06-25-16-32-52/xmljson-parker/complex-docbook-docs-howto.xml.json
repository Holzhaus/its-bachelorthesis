{"{http://docbook.org/ns/docbook}article": {"{http://docbook.org/ns/docbook}info": {"{http://docbook.org/ns/docbook}title": "DocBook V5.0", "{http://docbook.org/ns/docbook}subtitle": "The Transition Guide", "{http://docbook.org/ns/docbook}authorgroup": {"{http://docbook.org/ns/docbook}author": [{"{http://docbook.org/ns/docbook}personname": "Jirka Kosek", "{http://docbook.org/ns/docbook}email": "jirka@kosek.cz"}, {"{http://docbook.org/ns/docbook}personname": "Norman Walsh", "{http://docbook.org/ns/docbook}email": "ndw@nwalsh.com", "{http://docbook.org/ns/docbook}contrib": "\u00a7convert4to5, proofreading"}, {"{http://docbook.org/ns/docbook}personname": "Dick Hamilton", "{http://docbook.org/ns/docbook}email": "rlhamilton@frii.com", "{http://docbook.org/ns/docbook}contrib": "\u00a7changes-removed, customization, proofreading"}], "{http://docbook.org/ns/docbook}othercredit": {"{http://docbook.org/ns/docbook}personname": "Michael(tm) Smith", "{http://docbook.org/ns/docbook}email": "smith@sideshowbarker.net", "{http://docbook.org/ns/docbook}contrib": "\u00a7dbxsl-ns"}}, "{http://docbook.org/ns/docbook}pubdate": ["2009-06-16", "2008-02-06", "2007-10-28", "2006-10-22", "2006-05-16", "2006-03-01", "2005-12-28", "2005-10-27"]}, "{http://docbook.org/ns/docbook}para": ["This document is targeted at DocBook users who are considering\nswitching from DocBook V4.x to DocBook V5.0. It describes\ndifferences between DocBook V4.x and V5.0 and provides some suggestions about\nhow to edit and process DocBook V5.0 documents. There is\nalso a section devoted to conversion of legacy documents from DocBook\n4.x to DocBook V5.0.", "At the time this was written the current version of DocBook V5.0\nwas 5.0. However, almost all of the information in this document is\ngeneral and applies to any newer version of DocBook V5.0.\n"], "{http://docbook.org/ns/docbook}section": [{"{http://docbook.org/ns/docbook}title": "Introduction", "{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}citation": "DB5SPEC"}, "{http://docbook.org/ns/docbook}section": [{"{http://docbook.org/ns/docbook}title": "Finally in a namespace", "{http://docbook.org/ns/docbook}para": [{"{http://docbook.org/ns/docbook}uri": "http://docbook.org/ns/docbook", "{http://docbook.org/ns/docbook}acronym": {"{http://docbook.org/ns/docbook}alt": "Extensible\nMarkup Language"}}, "The corresponding DocBook V5.0 article will look very similar:", {"{http://docbook.org/ns/docbook}code": "xmlns=\"http://docbook.org/ns/docbook\""}], "{http://docbook.org/ns/docbook}programlisting": ["<article>\n  <title>Sample article</title>\n  <para>This is a really short article.</para>\n</article>", "<article xmlns=\"http://docbook.org/ns/docbook\" \u2026>\n  <title>Sample article</title>\n  <para>This is a really short article.</para>\n</article>"], "{http://docbook.org/ns/docbook}note": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}uri": "http://docbook.org/ns/docbook"}}}, {"{http://docbook.org/ns/docbook}title": "Relaxing with DocBook", "{http://docbook.org/ns/docbook}para": ["For more than a decade, the DocBook schema was defined using a\nDTD. However, DTDs have serious limitations, and DocBook V5.0 is thus\ndefined using a very powerful schema language called RELAX NG. Thanks\nto RELAX NG, it is now much easier to create customized versions of\nDocBook, and some content models are now cleaner and more\nprecise.", "Using RELAX NG has an impact on the document prolog. The following\nexample shows the typical prolog of a DocBook V4.x document. The version of\nthe DocBook DTD (in this case 4.5) is indicated in the document type\ndeclaration (!DOCTYPE) which points to a particular version of the\nDTD.", {"{http://docbook.org/ns/docbook}tag": "version"}, {"{http://docbook.org/ns/docbook}tag": ["lang", "xml:lang"]}, "Another fundamental change is that there is no direct indication\nof the schema used. Later in this document, you will learn how you can\nspecify a schema to be used for document validation."], "{http://docbook.org/ns/docbook}example": [{"{http://docbook.org/ns/docbook}title": "DocBook V4.5 document", "{http://docbook.org/ns/docbook}programlisting": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!DOCTYPE article PUBLIC '-//OASIS//DTD DocBook XML V4.5//EN'\n                         'http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd'>\n<article lang=\"en\">\n  <title>Sample article</title>\n  <para>This is a very short article.</para>\n</article>"}, {"{http://docbook.org/ns/docbook}title": "DocBook V5.0 document", "{http://docbook.org/ns/docbook}programlisting": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<article xmlns=\"http://docbook.org/ns/docbook\" version=\"5.0\" xml:lang=\"en\">\n  <title>Sample article</title>\n  <para>This is a very short article.</para>\n</article>"}], "{http://docbook.org/ns/docbook}note": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}xref": null}}}, {"{http://docbook.org/ns/docbook}title": "Why switch to DocBook V5.0?", "{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}quote": "because DocBook V5.0 is the\nfuture"}, "{http://docbook.org/ns/docbook}itemizedlist": {"{http://docbook.org/ns/docbook}listitem": [{"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}emphasis": "DocBook V4.x is feature frozen."}}, {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}emphasis": "DocBook V5.0 offers new functionality.", "{http://docbook.org/ns/docbook}tag": "info"}}, {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}emphasis": "DocBook V5.0 is more extensible."}}, {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}emphasis": "DocBook V5.0 is easier to customize.", "{http://docbook.org/ns/docbook}xref": null}}]}}, {"{http://docbook.org/ns/docbook}title": "Schema jungle", "{http://docbook.org/ns/docbook}para": [{"{http://docbook.org/ns/docbook}link": [null, null], "{http://docbook.org/ns/docbook}xref": null}, "DTD and W3C XML Schema versions of the DocBook V5.0 grammar are provided\nas a convenience for users who want to use DocBook V5.0 with legacy tools\nthat don't support RELAX NG. Authors are encouraged to switch to RELAX\nNG based tools as soon as possible, or at least to validate documents\nagainst the RELAX NG schema before further processing.", "Some document constraints can't be expressed in schema languages\nlike RELAX NG or W3C XML Schema. To check for these additional\nconstraints DocBook\u00a0V5.0 uses Schematron.  We recommend that you\nvalidate your document against both the RELAX NG and\nSchematron schemas."], "{http://docbook.org/ns/docbook}table": {"{http://docbook.org/ns/docbook}title": "Schema Comparison", "{http://docbook.org/ns/docbook}tgroup": {"{http://docbook.org/ns/docbook}colspec": [null, null, null, null, null, null], "{http://docbook.org/ns/docbook}thead": {"{http://docbook.org/ns/docbook}row": {"{http://docbook.org/ns/docbook}entry": ["Description", "DTD", "W3C XML Schema", "W3C XML Schema + Schematron", "RELAX NG", "RELAX NG + Schematron/NVDL"]}}, "{http://docbook.org/ns/docbook}tbody": {"{http://docbook.org/ns/docbook}row": [{"{http://docbook.org/ns/docbook}entry": ["Basic document structure", "YES", "YES", "YES", "YES", "YES"]}, {"{http://docbook.org/ns/docbook}entry": ["ID/IDREF datatypes", "YES", "YES", "YES", "YES", "YES"]}, {"{http://docbook.org/ns/docbook}entry": [{"{http://docbook.org/ns/docbook}footnote": {"{http://docbook.org/ns/docbook}para": [{"{http://docbook.org/ns/docbook}literal": [0, 1]}, "In general those datatypes can be also supported in\n\t  W3C XML Schema, but currently this schema is generated\n\t  from DTD which lacks datatype information."]}}, "NO", "NO", "NO", "YES", "YES"]}, {"{http://docbook.org/ns/docbook}entry": [{"{http://docbook.org/ns/docbook}footnote": {"{http://docbook.org/ns/docbook}para": [{"{http://docbook.org/ns/docbook}tag": ["title", "info", "title", "info"]}, "On other places co-occurrences enforces particular\n\tcontent model based on presence of specific attribute or\n\tattribute value.", "Please also note that in theory co-occurences can be\n\tvalidated using Schematron, but the current DocBook schema\n\tuses RELAX NG for these definitions. Schematron can be used\n\tonly for validation, whereas grammar based schemas like\n\tRELAX NG are useful also for other purposes like guided editing."]}}, "NO", "NO", "NO", "YES", "YES"]}, {"{http://docbook.org/ns/docbook}entry": ["Hooks for MathML and SVG content", "NO", "NO", "NO", "YES", "YES"]}, {"{http://docbook.org/ns/docbook}entry": [{"{http://docbook.org/ns/docbook}footnote": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}tag": ["footnoteref", "footnote"]}}}, "NO", "NO", "YES", "NO", "YES"]}, {"{http://docbook.org/ns/docbook}entry": [{"{http://docbook.org/ns/docbook}tag": "version"}, "NO", "NO", "YES", "NO", "YES"]}, {"{http://docbook.org/ns/docbook}entry": [{"{http://docbook.org/ns/docbook}footnote": {"{http://docbook.org/ns/docbook}para": "For example consistency of segmented lists, only one\n\tterm inside term definition etc."}}, "NO", "NO", "YES", "NO", "YES"]}, {"{http://docbook.org/ns/docbook}entry": [{"{http://docbook.org/ns/docbook}footnote": {"{http://docbook.org/ns/docbook}para": "Prevents improper nesting of elements, like admonition\n\tinside admonition."}}, "NO", "NO", "YES", "NO", "YES"]}]}}}, "{http://docbook.org/ns/docbook}section": [{"{http://docbook.org/ns/docbook}title": "Where to get the schemas", "{http://docbook.org/ns/docbook}para": [{"{http://docbook.org/ns/docbook}link": null}, {"{http://docbook.org/ns/docbook}link": null}], "{http://docbook.org/ns/docbook}variablelist": {"{http://docbook.org/ns/docbook}varlistentry": [{"{http://docbook.org/ns/docbook}term": "RELAX NG schema", "{http://docbook.org/ns/docbook}listitem": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}link": null}}}, {"{http://docbook.org/ns/docbook}term": "RELAX NG schema in compact syntax", "{http://docbook.org/ns/docbook}listitem": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}link": null}}}, {"{http://docbook.org/ns/docbook}term": "DTD", "{http://docbook.org/ns/docbook}listitem": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}link": null}}}, {"{http://docbook.org/ns/docbook}term": "W3C XML Schema", "{http://docbook.org/ns/docbook}listitem": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}link": null}}}, {"{http://docbook.org/ns/docbook}term": "Schematron schema with additional checks", "{http://docbook.org/ns/docbook}listitem": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}link": null}}}]}}, {"{http://docbook.org/ns/docbook}title": "DocBook documentation", "{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}link": {"{http://docbook.org/ns/docbook}citetitle": "DocBook: The Definitive Guide"}}, "{http://docbook.org/ns/docbook}note": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}citetitle": "DocBook: The Definitive\nGuide"}}}]}]}, {"{http://docbook.org/ns/docbook}title": "Tool chain", "{http://docbook.org/ns/docbook}para": "This section briefly describes tools and procedures to edit and\nprocess content stored in DocBook V5.0.", "{http://docbook.org/ns/docbook}section": [{"{http://docbook.org/ns/docbook}title": "Editing DocBook V5.0", "{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}quote": "dumb"}, "{http://docbook.org/ns/docbook}section": [{"{http://docbook.org/ns/docbook}title": "Emacs and nXML", "{http://docbook.org/ns/docbook}para": [{"{http://docbook.org/ns/docbook}link": "nXML\nmode", "{http://docbook.org/ns/docbook}application": "GNU\nEmacs"}, {"{http://docbook.org/ns/docbook}filename": ["schemas.xml", "site-lisp/nxml/schema"]}, {"{http://docbook.org/ns/docbook}filename": "schemas.xml"}], "{http://docbook.org/ns/docbook}figure": {"{http://docbook.org/ns/docbook}title": "Emacs with nXML mode provides guided editing and validation", "{http://docbook.org/ns/docbook}mediaobject": {"{http://docbook.org/ns/docbook}imageobject": [{"{http://docbook.org/ns/docbook}imagedata": null}, {"{http://docbook.org/ns/docbook}imagedata": null}]}}, "{http://docbook.org/ns/docbook}programlisting": [{"{http://docbook.org/ns/docbook}replaceable": "/path/to/"}, {"{http://docbook.org/ns/docbook}replaceable": "/path/to/"}], "{http://docbook.org/ns/docbook}note": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}filename": "docbook.rnc"}}}, {"{http://docbook.org/ns/docbook}title": "oXygen", "{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}application": "oXygen"}, "{http://docbook.org/ns/docbook}figure": [{"{http://docbook.org/ns/docbook}title": "DocBook V5.0 document opened in oXygen", "{http://docbook.org/ns/docbook}mediaobject": {"{http://docbook.org/ns/docbook}imageobject": {"{http://docbook.org/ns/docbook}imagedata": null}}}, {"{http://docbook.org/ns/docbook}title": "DocBook V5.0 document opened in oXygen in Author mode", "{http://docbook.org/ns/docbook}mediaobject": {"{http://docbook.org/ns/docbook}imageobject": {"{http://docbook.org/ns/docbook}imagedata": null}}}]}, {"{http://docbook.org/ns/docbook}title": "XML Mind XML editor", "{http://docbook.org/ns/docbook}para": [{"{http://docbook.org/ns/docbook}application": "XML\nMind XML editor"}, {"{http://docbook.org/ns/docbook}menuchoice": {"{http://docbook.org/ns/docbook}guimenu": "Options", "{http://docbook.org/ns/docbook}guimenuitem": "Install\nAdd-ons\u2026"}, "{http://docbook.org/ns/docbook}guilabel": "DocBook\n5 configuration", "{http://docbook.org/ns/docbook}guibutton": "OK"}], "{http://docbook.org/ns/docbook}figure": {"{http://docbook.org/ns/docbook}title": "XML Mind XML Editor \u2013 feels almost like MS Word but real DocBook V5.0 markup is created", "{http://docbook.org/ns/docbook}mediaobject": {"{http://docbook.org/ns/docbook}imageobject": {"{http://docbook.org/ns/docbook}imagedata": null}}}}]}, {"{http://docbook.org/ns/docbook}title": "Validating DocBook V5.0", "{http://docbook.org/ns/docbook}para": ["If you are not using a RELAX NG-based validating editor when you\ncreate documents, we strongly recommend that you validate your\ndocuments against RELAX NG and Schematron schemas before processing\nthem. Only after successful validation can you be sure that your\ndocument is really DocBook V5.0 and that processing tools will be able\nto process it correctly.", "For validation you can use tools that support simultaneous RELAX NG and\nSchematron validation, or you can use NVDL to orchestrate validation using\nthe two schemas."], "{http://docbook.org/ns/docbook}section": [{"{http://docbook.org/ns/docbook}title": "Using RELAX NG and Schematron", "{http://docbook.org/ns/docbook}para": [{"{http://docbook.org/ns/docbook}link": null}, {"{http://docbook.org/ns/docbook}application": "Sun \nMulti-Schema XML Validator (MSV)"}, {"{http://docbook.org/ns/docbook}link": "on-line DocBook\u00a0V5.0\nvalidator"}], "{http://docbook.org/ns/docbook}procedure": {"{http://docbook.org/ns/docbook}step": [{"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}filename": "relames.zip", "{http://docbook.org/ns/docbook}link": null}}, {"{http://docbook.org/ns/docbook}para": "Unpack the downloaded file into an arbitrary directory."}, {"{http://docbook.org/ns/docbook}para": "Validate your document using the following command:", "{http://docbook.org/ns/docbook}screen": {"{http://docbook.org/ns/docbook}command": "java", "{http://docbook.org/ns/docbook}replaceable": ["/path/to/", "/path/to/"]}, "{http://docbook.org/ns/docbook}note": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}option": "-Xss512K"}}}]}}, {"{http://docbook.org/ns/docbook}title": "Using NVDL", "{http://docbook.org/ns/docbook}para": ["NVDL is a meta-schema language which can validate a document \nagainst several schemas. DocBook\u00a0V5.0 comes with a NVDL\nschema which specifies that DocBook documents should be validated\nagainst both RELAX NG and Schematron schemas.", {"{http://docbook.org/ns/docbook}link": null, "{http://docbook.org/ns/docbook}application": ["oNVDL", "JNVDL"]}], "{http://docbook.org/ns/docbook}procedure": [{"{http://docbook.org/ns/docbook}title": "oNVDL installation and usage", "{http://docbook.org/ns/docbook}step": [{"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}filename": "onvdl-20070517.zip"}}, {"{http://docbook.org/ns/docbook}para": "Unpack the downloaded file into an arbitrary directory."}, {"{http://docbook.org/ns/docbook}para": "Validate your document using the following command:", "{http://docbook.org/ns/docbook}screen": {"{http://docbook.org/ns/docbook}command": "java", "{http://docbook.org/ns/docbook}replaceable": ["/path/to/oNVDL/", "/path/to/"]}}]}, {"{http://docbook.org/ns/docbook}title": "JNVDL installation and usage", "{http://docbook.org/ns/docbook}step": [{"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}link": null}}, {"{http://docbook.org/ns/docbook}para": "Unpack the downloaded file into an arbitrary directory."}, {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}filename": ["jnvdl.bat", "jnvdl.sh"], "{http://docbook.org/ns/docbook}option": "-Xss512K", "{http://docbook.org/ns/docbook}command": "java"}}, {"{http://docbook.org/ns/docbook}para": ["On Windows systems, validate your document using the following command:", "On Unix systems, validate your document using the following command:"], "{http://docbook.org/ns/docbook}screen": [{"{http://docbook.org/ns/docbook}replaceable": ["/path/to/jnvdl/", "/path/to/"], "{http://docbook.org/ns/docbook}command": "jnvdl"}, {"{http://docbook.org/ns/docbook}replaceable": ["/path/to/jnvdl/", "/path/to/"], "{http://docbook.org/ns/docbook}command": "jnvdl.sh"}]}]}]}]}, {"{http://docbook.org/ns/docbook}title": "Processing DocBook V5.0", "{http://docbook.org/ns/docbook}para": "Part of DocBook's great success can be attributed to the\navailability of free\ntools that can be used to transform DocBook content into various\ntarget formats including HTML and PDF. The DocBook XSL Stylesheets are\nvery popular tools.", "{http://docbook.org/ns/docbook}section": [{"{http://docbook.org/ns/docbook}title": "DocBook XSL Stylesheets", "{http://docbook.org/ns/docbook}para": ["The DocBook stylesheets are designed to process content written in\ndifferent versions of DocBook (for example 3.1 and 4.2). Recent\nversions of the stylesheets are also able to process DocBook V5.0\nwith some limitations.", "You can process DocBook V5.0 documents with the DocBook XSL\nstylesheets in exactly the same way you process DocBook V4.x documents.\nYou do not need special software; you can stick to your preferred\nXSLT processor, be it Saxon, xsltproc, Xalan or whatever else (but see\nthe note about the lost base URI below).", "During document processing, the stylesheets strip\nnamespaces from DocBook V5.0 to get a document which will be\nvery similar to DocBook V4.x. This is necessary because from the XSLT\npoint of view, elements from different namespaces are distinct and cannot \nbe easily processed by the same set of templates. This process is\ncompletely transparent to the user. If you are processing DocBook V5.0\ndocuments, the only difference is that you will see the following\nadditional message:", "Although you can successfully use the existing stylesheets to\nprocess DocBook V5.0, there are some limitations and unsupported\nfeatures. The unsupported features include:"], "{http://docbook.org/ns/docbook}screen": "Note: namesp. cut : stripped namespace before processing\nNote: namesp. cut : processing stripped document", "{http://docbook.org/ns/docbook}itemizedlist": {"{http://docbook.org/ns/docbook}listitem": [{"{http://docbook.org/ns/docbook}para": "general annotations;"}, {"{http://docbook.org/ns/docbook}para": "general XLink links on all elements."}]}, "{http://docbook.org/ns/docbook}note": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}screen": "WARNING: cannot add @xml:base to node set root element. Relative paths may not work."}}}, {"{http://docbook.org/ns/docbook}title": "DocBook XSL-NS Stylesheets", "{http://docbook.org/ns/docbook}para": [{"{http://docbook.org/ns/docbook}link": "XSL-NS stylesheets"}, {"{http://docbook.org/ns/docbook}link": {"{http://docbook.org/ns/docbook}package": "docbook-xsl-ns"}}]}, {"{http://docbook.org/ns/docbook}title": "XSLT 2.0 based re-implementation", "{http://docbook.org/ns/docbook}para": ["XSLT 1.0 is missing some important features. To work around\nthese missing features, the current DocBook XSL stylesheets use some\nimplementation-specific extensions.\nXSLT 2.0 adds many new and previously missing features into the language.\nA new set of DocBook stylesheets is being implemented based on XSLT 2.0\nto take advantage of these features and to fully support DocBook V5.0.\n", "The XSLT 2.0 based stylesheets have many new features, including:", "The XSLT 2.0 based stylesheets are still under development.  At\nthis writing, they only support HTML and chunked HTML output.  As time\npermits, the stylesheet developers will be adding other formats.  Since\nthe stylesheets are developed in the limited free time the developers\nhave, there's no specific schedule.", {"{http://docbook.org/ns/docbook}link": [null, null]}, "To transform a DocBook V5.0 document to a single HTML page use the command:", "To transform a DocBook V5.0 document to a set of chunked HTML pages use the command:"], "{http://docbook.org/ns/docbook}itemizedlist": {"{http://docbook.org/ns/docbook}listitem": [{"{http://docbook.org/ns/docbook}para": "seamless integration of profiling (conditional\ndocuments) with external bibliographies and\nglossaries;"}, {"{http://docbook.org/ns/docbook}para": "no need for (most) external extensions;"}, {"{http://docbook.org/ns/docbook}para": "internationalized indexes;"}, {"{http://docbook.org/ns/docbook}para": "easy to customize titlepage templates."}]}, "{http://docbook.org/ns/docbook}screen": [{"{http://docbook.org/ns/docbook}command": "java", "{http://docbook.org/ns/docbook}replaceable": ["/path/to/", "/path/to/"]}, {"{http://docbook.org/ns/docbook}command": "java", "{http://docbook.org/ns/docbook}replaceable": ["/path/to/", "/path/to/"]}]}]}]}, {"{http://docbook.org/ns/docbook}title": "Markup changes", "{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}citation": "DB5SPEC"}, "{http://docbook.org/ns/docbook}section": [{"{http://docbook.org/ns/docbook}title": "Improved cross-referencing and linking", "{http://docbook.org/ns/docbook}para": [{"{http://docbook.org/ns/docbook}tag": ["id", "xml:id"], "{http://docbook.org/ns/docbook}citation": "XMLID"}, {"{http://docbook.org/ns/docbook}tag": ["xref", "link"]}, "is written in DocBook V5.0 as:", {"{http://docbook.org/ns/docbook}tag": ["linkend", "href"]}, {"{http://docbook.org/ns/docbook}tag": ["ulink", "ulink"]}, {"{http://docbook.org/ns/docbook}tag": "link"}, {"{http://docbook.org/ns/docbook}tag": "linkend"}, {"{http://docbook.org/ns/docbook}tag": ["xml:id", "linkend"]}], "{http://docbook.org/ns/docbook}programlisting": ["<section id=\"dir\">\n  <title>DIR command</title>\n  <para>...</para>\n</section>\n\n<section id=\"ls\">\n  <title>LS command</title>\n  <para>This command is a synonym for <link linkend=\"dir\"><command>DIR</command></link> command.</para>\n</section>", "<section xml:id=\"dir\">\n  <title>DIR command</title>\n  <para>...</para>\n</section>\n\n<section xml:id=\"ls\">\n  <title>LS command</title>\n  <para>This command is a synonym for <command linkend=\"dir\">DIR</command> command.</para>\n</section>", "<article xmlns=\"http://docbook.org/ns/docbook\" \n         xmlns:xl=\"http://www.w3.org/1999/xlink\" version=\"5.0\">\n  <title>Test article</title>\n\n  <para><application xl:href=\"http://www.gnu.org/software/emacs/emacs.html\">Emacs</application> \n    is my favourite text editor.</para>\n  \u2026", "<ulink url=\"http://docbook.org\">DocBook site</ulink>", "<link xl:href=\"http://docbook.org\">DocBook site</link>", "<command xl:href=\"#dir\">DIR</command>"]}, {"{http://docbook.org/ns/docbook}title": "Renamed elements", "{http://docbook.org/ns/docbook}para": "Some elements were renamed to better express their meaning or to\nreduce the total number of elements available in DocBook.", "{http://docbook.org/ns/docbook}table": {"{http://docbook.org/ns/docbook}title": "Renamed elements", "{http://docbook.org/ns/docbook}tgroup": {"{http://docbook.org/ns/docbook}thead": {"{http://docbook.org/ns/docbook}row": {"{http://docbook.org/ns/docbook}entry": ["Old name", "New name"]}}, "{http://docbook.org/ns/docbook}tbody": {"{http://docbook.org/ns/docbook}row": [{"{http://docbook.org/ns/docbook}entry": [{"{http://docbook.org/ns/docbook}tag": "sgmltag"}, {"{http://docbook.org/ns/docbook}tag": "tag"}]}, {"{http://docbook.org/ns/docbook}entry": [{"{http://docbook.org/ns/docbook}tag": ["bookinfo", "articleinfo", "chapterinfo", "*info"]}, {"{http://docbook.org/ns/docbook}tag": "info"}]}, {"{http://docbook.org/ns/docbook}entry": [{"{http://docbook.org/ns/docbook}tag": "authorblurb"}, {"{http://docbook.org/ns/docbook}tag": "personblurb"}]}, {"{http://docbook.org/ns/docbook}entry": [{"{http://docbook.org/ns/docbook}tag": ["collabname", "corpauthor", "corpcredit", "corpname"]}, {"{http://docbook.org/ns/docbook}tag": "orgname"}]}, {"{http://docbook.org/ns/docbook}entry": [{"{http://docbook.org/ns/docbook}tag": ["isbn", "issn", "pubsnumber"]}, {"{http://docbook.org/ns/docbook}tag": "biblioid"}]}, {"{http://docbook.org/ns/docbook}entry": [{"{http://docbook.org/ns/docbook}tag": ["lot", "lotentry", "tocback", "tocchap", "tocfront", "toclevel1", "toclevel2", "toclevel3", "toclevel4", "toclevel5", "tocpart"]}, {"{http://docbook.org/ns/docbook}tag": "tocdiv"}]}, {"{http://docbook.org/ns/docbook}entry": [{"{http://docbook.org/ns/docbook}tag": ["graphic", "graphicco", "inlinegraphic", "mediaobjectco"]}, {"{http://docbook.org/ns/docbook}tag": ["mediaobject", "inlinemediaobject"]}]}, {"{http://docbook.org/ns/docbook}entry": [{"{http://docbook.org/ns/docbook}tag": "ulink"}, {"{http://docbook.org/ns/docbook}tag": "link"}]}, {"{http://docbook.org/ns/docbook}entry": [{"{http://docbook.org/ns/docbook}tag": "ackno"}, {"{http://docbook.org/ns/docbook}tag": "acknowledgements"}]}]}}}}, {"{http://docbook.org/ns/docbook}title": "Removed elements", "{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}tag": ["action", "beginpage", "highlights", "interface", "invpartnumber", "medialabel", "modespec", "structfield", "structname"]}, "{http://docbook.org/ns/docbook}table": {"{http://docbook.org/ns/docbook}title": "Recommended mapping for removed elements", "{http://docbook.org/ns/docbook}tgroup": {"{http://docbook.org/ns/docbook}thead": {"{http://docbook.org/ns/docbook}row": {"{http://docbook.org/ns/docbook}entry": ["Old name", "Recommended mapping"]}}, "{http://docbook.org/ns/docbook}tbody": {"{http://docbook.org/ns/docbook}row": [{"{http://docbook.org/ns/docbook}entry": [{"{http://docbook.org/ns/docbook}tag": "action"}, {"{http://docbook.org/ns/docbook}computeroutput": {"{http://docbook.org/ns/docbook}tag": "phrase"}}]}, {"{http://docbook.org/ns/docbook}entry": [{"{http://docbook.org/ns/docbook}tag": "beginpage"}, {"{http://docbook.org/ns/docbook}tag": "beginpage"}]}, {"{http://docbook.org/ns/docbook}entry": [{"{http://docbook.org/ns/docbook}tag": "highlights"}, {"{http://docbook.org/ns/docbook}tag": ["abstract", "highlights", "para", "abstract"]}]}, {"{http://docbook.org/ns/docbook}entry": [{"{http://docbook.org/ns/docbook}tag": "interface"}, {"{http://docbook.org/ns/docbook}quote": "gui*", "{http://docbook.org/ns/docbook}tag": ["guibutton", "guiicon", "guilabel", "guimenu", "guimenuitem", "guisubmenu"]}]}, {"{http://docbook.org/ns/docbook}entry": [{"{http://docbook.org/ns/docbook}tag": "invpartnumber"}, {"{http://docbook.org/ns/docbook}computeroutput": {"{http://docbook.org/ns/docbook}tag": "biblioid"}, "{http://docbook.org/ns/docbook}tag": "productnumber"}]}, {"{http://docbook.org/ns/docbook}entry": [{"{http://docbook.org/ns/docbook}tag": "medialabel"}, {"{http://docbook.org/ns/docbook}computeroutput": {"{http://docbook.org/ns/docbook}tag": "citetitle", "{http://docbook.org/ns/docbook}replaceable": "mediatype"}, "{http://docbook.org/ns/docbook}replaceable": "mediatype", "{http://docbook.org/ns/docbook}tag": ["cdrom", "dvd"]}]}, {"{http://docbook.org/ns/docbook}entry": [{"{http://docbook.org/ns/docbook}tag": "modespec"}, {"{http://docbook.org/ns/docbook}tag": ["olink", "modespec"]}]}, {"{http://docbook.org/ns/docbook}entry": [{"{http://docbook.org/ns/docbook}tag": ["structfield", "structname"]}, {"{http://docbook.org/ns/docbook}tag": ["varname", "property", "structfield"], "{http://docbook.org/ns/docbook}computeroutput": {"{http://docbook.org/ns/docbook}tag": "varname", "{http://docbook.org/ns/docbook}replaceable": "structname or\nstructfield"}}]}]}}}}]}, {"{http://docbook.org/ns/docbook}title": "Converting DocBook V4.x documents to DocBook V5.0", "{http://docbook.org/ns/docbook}para": ["The DocBook V5.0 schema ships with an XSLT 1.0 stylesheet that\nis designed to transform valid DocBook V4.x documents to valid\nDocBook V5.0 documents.", {"{http://docbook.org/ns/docbook}filename": "doc.xml"}, "In the vast majority of cases, the resulting document should\nbe valid and your conversion process is finished.", "If the document is not valid, please report the problem.\n(Over time, we'll have more experience with the sorts of things\nthat can go wrong and we'll update this document to reflect that\nexperience.)"], "{http://docbook.org/ns/docbook}procedure": {"{http://docbook.org/ns/docbook}step": [{"{http://docbook.org/ns/docbook}para": "Check the validity of your DocBook XML V4.x document. The\nconversion tool assumes that the input document is valid. If the input\ndocument contains markup errors, the results will be unpredictable at\nbest."}, {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}filename": ["doc.xml", "newdoc.xml", "db4-upgrade.xsl"]}}, {"{http://docbook.org/ns/docbook}para": "Check the validity of your DocBook XML V5.0 document against\nthe DocBook V5.0 RELAX NG grammar."}]}, "{http://docbook.org/ns/docbook}section": {"{http://docbook.org/ns/docbook}title": "What About Entities?", "{http://docbook.org/ns/docbook}para": ["Using XSLT to transform existing documents to DocBook V5.0 has\none potential disadvantage: it removes all entity references from \nyour document.", "If preserving entities is an important aspect of your production\nwork flow, you will have to engage in a semi-manual process to\npreserve them."], "{http://docbook.org/ns/docbook}procedure": {"{http://docbook.org/ns/docbook}step": [{"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}emphasis": "is not"}}, {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}literal": ["&Product;", "[[[Product]]]", "[[[Product]]]"]}}, {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}literal": ["<!DOCTYPE", "]>"]}}, {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}xref": null}}, {"{http://docbook.org/ns/docbook}para": "Open the new document using your favorite editing tool. Replace\nall occurrences of the unique string you used to save the entity references\nwith the corresponding entity references."}, {"{http://docbook.org/ns/docbook}para": "Paste the document type declaration that you saved onto the top\nof your new document."}, {"{http://docbook.org/ns/docbook}para": [{"{http://docbook.org/ns/docbook}literal": ["PUBLIC", "SYSTEM"]}, "is perfectly well-formed. If you don't remove the references to\nthe DTD, then your parser will likely try to validate against DocBook\nV4.0 and that's not going to work. Alternatively, you could refer\nto the DocBook V5.0 DTD."], "{http://docbook.org/ns/docbook}programlisting": "<!DOCTYPE book [\n<!ENTITY someEntity \"some replacement text\">\n]>"}]}, "{http://docbook.org/ns/docbook}tip": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}link": "cloak\nscript"}}, "{http://docbook.org/ns/docbook}section": {"{http://docbook.org/ns/docbook}title": "External Parsed Entities", "{http://docbook.org/ns/docbook}para": ["External parsed entities, entities which load part of a document\nfrom another file, are a special case. These can often be replaced\nwith XInclude elements.", {"{http://docbook.org/ns/docbook}filename": "db4-entities.pl"}], "{http://docbook.org/ns/docbook}procedure": {"{http://docbook.org/ns/docbook}step": [{"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}filename": "db4-entities.pl"}}, {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}xref": null}}]}}}}, {"{http://docbook.org/ns/docbook}title": "Customizing DocBook V5.0", "{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}citation": "RNCTUT"}, "{http://docbook.org/ns/docbook}section": [{"{http://docbook.org/ns/docbook}title": "DocBook RELAX NG schema organization", "{http://docbook.org/ns/docbook}para": [{"{http://docbook.org/ns/docbook}quote": "hooks"}, {"{http://docbook.org/ns/docbook}tag": ["imagedata", "videodata", "align"], "{http://docbook.org/ns/docbook}varname": ["db.halign.enumeration", "db.videodata.align.enumeration", "db.imagedata.align.enumeration", "db.videodata.align.attribute", "db.imagedata.align.attribute"]}], "{http://docbook.org/ns/docbook}section": {"{http://docbook.org/ns/docbook}title": "Pattern Names", "{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}itemizedlist": {"{http://docbook.org/ns/docbook}listitem": [{"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}quote": "."}}, {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}quote": "db"}}, {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}varname": [{"{http://docbook.org/ns/docbook}replaceable": "elementname"}, {"{http://docbook.org/ns/docbook}replaceable": "context.elementname"}, "db.figure.info", "db.cals.entrytbl.thead"], "{http://docbook.org/ns/docbook}tag": ["info", "figure"], "{http://docbook.org/ns/docbook}replaceable": "Context"}}, {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}varname": [{"{http://docbook.org/ns/docbook}replaceable": "attributename"}, {"{http://docbook.org/ns/docbook}replaceable": "context.attributename"}, "db.olink.localinfo.attribute", "db.effectivity.attributes"], "{http://docbook.org/ns/docbook}tag": ["localinfo", "olink"]}}, {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}varname": [{"{http://docbook.org/ns/docbook}replaceable": "elementname"}, {"{http://docbook.org/ns/docbook}replaceable": "context.elementname"}, "db.html.table.attlist", "db.cals.table.attlist"], "{http://docbook.org/ns/docbook}tag": ["table", "table"]}}, {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}varname": [{"{http://docbook.org/ns/docbook}replaceable": "[context.]attributename"}, "db.verbatim.continuation.enumeration", "db.class.enumeration"], "{http://docbook.org/ns/docbook}tag": ["continuation", "screen", "class"]}}, {"{http://docbook.org/ns/docbook}para": [{"{http://docbook.org/ns/docbook}variablelist": {"{http://docbook.org/ns/docbook}varlistentry": [{"{http://docbook.org/ns/docbook}term": "inlines", "{http://docbook.org/ns/docbook}listitem": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}varname": ["db.error.inlines", "db.errorcode", "db.errortext"]}}}, {"{http://docbook.org/ns/docbook}term": "blocks", "{http://docbook.org/ns/docbook}listitem": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}varname": ["db.verbatim.blocks", "db.programlisting", "db.screen"]}}}, {"{http://docbook.org/ns/docbook}term": "attributes", "{http://docbook.org/ns/docbook}listitem": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}varname": "db.effectivity.attributes", "{http://docbook.org/ns/docbook}tag": ["arch", "condition", "conformance"]}}}, {"{http://docbook.org/ns/docbook}term": "components", "{http://docbook.org/ns/docbook}listitem": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}varname": ["db.navigation.components", "db.glossary", "db.bibliography", "db.index", "db.toc"], "{http://docbook.org/ns/docbook}tag": ["chapter", "appendix", "preface"]}}}, {"{http://docbook.org/ns/docbook}term": "contentmodel", "{http://docbook.org/ns/docbook}listitem": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}varname": "db.admonition.contentmodel", "{http://docbook.org/ns/docbook}tag": ["tip", "warning", "note"]}}}]}}, "\n            There are a couple of other groupings designed to minimize\n            duplication, but these are the most important.\n          "]}]}}}}, {"{http://docbook.org/ns/docbook}title": "General customization considerations", "{http://docbook.org/ns/docbook}para": ["\n    Creating a customized schema is similar to\n    creating a customization layer for XSL.  The schema customization\n    layer is a new RELAX NG schema that defines your changes and\n    includes the standard docbook schema.  You then validate using\n    the schema customization as your schema.\n  ", {"{http://docbook.org/ns/docbook}xref": null, "{http://docbook.org/ns/docbook}tag": ["href", "include"], "{http://docbook.org/ns/docbook}footnote": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}filename": "docbook.rng", "{http://docbook.org/ns/docbook}uri": "http://docbook.org/xml/5.0/rng/docbook.rng", "{http://docbook.org/ns/docbook}link": "XML\n    catalogs"}}, "{http://docbook.org/ns/docbook}example": {"{http://docbook.org/ns/docbook}title": "Empty customization file", "{http://docbook.org/ns/docbook}programlisting": ["<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<grammar xmlns:db=\"http://docbook.org/ns/docbook\"\n         ns=\"http://docbook.org/ns/docbook\"\n         xmlns=\"http://relaxng.org/ns/structure/1.0\">\n  <include href=\"docbook.rng\"/>\n\n  <!-- redefinitions of named patterns -->\n\n</grammar>", "namespace db = \"http://docbook.org/ns/docbook\"\n\ninclude \"docbook.rnc\" inherit = db\n# redefinitions of named patterns"]}}]}, {"{http://docbook.org/ns/docbook}title": "Elements", "{http://docbook.org/ns/docbook}section": [{"{http://docbook.org/ns/docbook}title": "Adding elements", "{http://docbook.org/ns/docbook}para": ["\n        Adding an element typically takes two definitions.\n        The first defines the new element and\n        its content model, and the second adds the\n        new element into the schema.  We'll show two examples.\n      ", {"{http://docbook.org/ns/docbook}xref": null, "{http://docbook.org/ns/docbook}tag": ["person", "author", "author"]}, {"{http://docbook.org/ns/docbook}varname": ["db.author", "dbx.person", "db.author", "dbx.person"], "{http://docbook.org/ns/docbook}tag": ["person", "combine", "combine"], "{http://docbook.org/ns/docbook}quote": "choice"}, {"{http://docbook.org/ns/docbook}tag": ["author", "person"]}, {"{http://docbook.org/ns/docbook}xref": [null, null, null], "{http://docbook.org/ns/docbook}tag": ["register", "instruction"], "{http://docbook.org/ns/docbook}varname": ["dbx.asm.inlines", "db.programming.inlines", "db.os.inlines"], "{http://docbook.org/ns/docbook}quote": "clone"}], "{http://docbook.org/ns/docbook}example": [{"{http://docbook.org/ns/docbook}title": "Adding a new element by duplicating an existing one", "{http://docbook.org/ns/docbook}programlisting": ["<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<grammar xmlns:db=\"http://docbook.org/ns/docbook\"\n         ns=\"http://docbook.org/ns/docbook\"\n         xmlns=\"http://relaxng.org/ns/structure/1.0\">\n  <include href=\"docbook.rng\"/>\n  <!-- define the new element -->\n  <define name=\"dbx.person\">\n    <element name=\"person\">\n        <ref name=\"db.author.attlist\"/>\n        <ref name=\"db.credit.contentmodel\"/>\n    </element>\n  </define>\n  <!-- redefine the db.author pattern to allow db.person in\n       the same places as db.author -->\n  <define name=\"db.author\" combine=\"choice\">\n    <ref name=\"dbx.person\"/>\n  </define>\n</grammar>", "default namespace db = \"http://docbook.org/ns/docbook\"\n\ninclude \"docbook.rnc\"\n# define the new element\ndbx.person =\n  element person { db.author.attlist, db.credit.contentmodel }\n# redefine the db.author pattern to allow db.person in\n# the same places as db.author\ndb.author |= dbx.person"]}, {"{http://docbook.org/ns/docbook}title": "Adding new inline elements", "{http://docbook.org/ns/docbook}programlisting": ["<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<grammar xmlns:db=\"http://docbook.org/ns/docbook\"\n         ns=\"http://docbook.org/ns/docbook\"\n         xmlns=\"http://relaxng.org/ns/structure/1.0\">\n  <include href=\"docbook.rng\"/>\n  <!-- define the new elements -->\n  <define name=\"dbx.register\">\n    <element name=\"register\">\n      <text/>\n    </element>\n  </define>\n  <define name=\"dbx.instruction\">\n    <element name=\"instruction\">\n      <text/>\n    </element>\n  </define>\n  <!-- create a new pattern that contains the new inlines -->\n  <define name=\"dbx.asm.inlines\">\n    <choice>\n      <ref name=\"dbx.register\"/>\n      <ref name=\"dbx.instruction\"/>\n    </choice>\n  </define>\n  <!-- add the new inlines to programming and os inlines -->\n    <define name=\"db.programming.inlines\" combine=\"choice\">\n      <ref name=\"dbx.asm.inlines\"/>\n    </define>\n    <define name=\"db.os.inlines\" combine=\"choice\">\n      <ref name=\"dbx.asm.inlines\"/>\n    </define>\n</grammar>", "default namespace db = \"http://docbook.org/ns/docbook\"\n\ninclude \"docbook.rnc\"\n# define the new elements\ndbx.register = element register { text }\ndbx.instruction = element instruction { text }\n# create a new pattern that contains the new inlines\ndbx.asm.inlines = dbx.register | dbx.instruction\n# add the new inlines to programming and os inlines\ndb.programming.inlines |= dbx.asm.inlines\ndb.os.inlines |= dbx.asm.inlines"]}]}, {"{http://docbook.org/ns/docbook}title": "Deleting elements", "{http://docbook.org/ns/docbook}para": [{"{http://docbook.org/ns/docbook}xref": null, "{http://docbook.org/ns/docbook}tag": ["important", "include"], "{http://docbook.org/ns/docbook}varname": "notAllowed"}, {"{http://docbook.org/ns/docbook}tag": ["title", "book", "book", "title"]}], "{http://docbook.org/ns/docbook}example": {"{http://docbook.org/ns/docbook}title": "Deleting an element", "{http://docbook.org/ns/docbook}programlisting": ["<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<grammar xmlns:db=\"http://docbook.org/ns/docbook\"\n         ns=\"http://docbook.org/ns/docbook\"\n         xmlns=\"http://relaxng.org/ns/structure/1.0\">\n  <include href=\"docbook.rng\">\n    <!-- redefine important element as notAllowed -->\n    <define name=\"db.important\">\n      <notAllowed/>\n    </define>\n  </include>\n</grammar>", "namespace db = \"http://docbook.org/ns/docbook\"\n\ninclude \"docbook.rnc\" inherit = db {\n  # redefine important element as notAllowed\n  db.important = notAllowed\n}"]}}, {"{http://docbook.org/ns/docbook}title": "Customizing the content model of existing elements", "{http://docbook.org/ns/docbook}para": [{"{http://docbook.org/ns/docbook}xref": null, "{http://docbook.org/ns/docbook}tag": ["author", "born", "died", "author"], "{http://docbook.org/ns/docbook}varname": ["db.person.author.contentmodel", "db.org.author.contentmodel", "db.person.author.contentmodel"], "{http://docbook.org/ns/docbook}example": {"{http://docbook.org/ns/docbook}title": "Modifying the content model of an element", "{http://docbook.org/ns/docbook}programlisting": ["<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<grammar xmlns:db=\"http://docbook.org/ns/docbook\"\n         ns=\"http://docbook.org/ns/docbook\"\n         xmlns=\"http://relaxng.org/ns/structure/1.0\">\n  <include href=\"docbook.rng\"/>\n\n  <define name=\"db.person.author.contentmodel\" combine=\"interleave\">\n    <interleave>\n      <optional>\n        <element name=\"born\">\n          <ref name=\"db.date.contentmodel\"/>\n        </element>\n      </optional>\n      <optional>\n        <element name=\"died\">\n          <ref name=\"db.date.contentmodel\"/>\n        </element>\n      </optional>\n    </interleave>\n  </define>\n</grammar>", "default namespace = \"http://docbook.org/ns/docbook\"\nnamespace db = \"http://docbook.org/ns/docbook\"\n\ninclude \"docbook.rnc\"\n\ndb.person.author.contentmodel &=\n  element born { db.date.contentmodel }?\n  & element died { db.date.contentmodel }?"]}}, {"{http://docbook.org/ns/docbook}programlisting": ["<author>\n  <personname>Babe Ruth</personname>\n  <born>02/06/1895</born>\n  <died>08/16/1948</died>\n</author>", "<!-- INVALID -->\n<author>\n  <orgname>Boston Red Sox</orgname>\n  <died>1919</died>\n  <born>2004</born>\n</author>"], "{http://docbook.org/ns/docbook}varname": "db.org.author.contentmodel"}]}]}, {"{http://docbook.org/ns/docbook}title": "Attributes", "{http://docbook.org/ns/docbook}section": [{"{http://docbook.org/ns/docbook}title": "Adding attributes", "{http://docbook.org/ns/docbook}para": [{"{http://docbook.org/ns/docbook}xref": null, "{http://docbook.org/ns/docbook}tag": ["born", "died", "author", "combine"], "{http://docbook.org/ns/docbook}varname": "db.author.attlist", "{http://docbook.org/ns/docbook}quote": "interleave"}, {"{http://docbook.org/ns/docbook}xref": [null, null], "{http://docbook.org/ns/docbook}tag": "author"}, {"{http://docbook.org/ns/docbook}xref": [null, null], "{http://docbook.org/ns/docbook}varname": "db.person.author.contentmodel", "{http://docbook.org/ns/docbook}example": {"{http://docbook.org/ns/docbook}title": "Adding attributes; alternate method", "{http://docbook.org/ns/docbook}programlisting": ["<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<grammar xmlns:db=\"http://docbook.org/ns/docbook\"\n         ns=\"http://docbook.org/ns/docbook\"\n         xmlns=\"http://relaxng.org/ns/structure/1.0\">\n  <include href=\"docbook.rng\"/>\n  <!-- redefinitions of named patterns -->\n  <define name=\"db.person.author.contentmodel\" combine=\"interleave\">\n    <interleave>\n      <optional>\n        <attribute name=\"born\">\n          <ref name=\"db.date.contentmodel\"/>\n        </attribute>\n      </optional>\n      <optional>\n        <attribute name=\"died\">\n          <ref name=\"db.date.contentmodel\"/>\n        </attribute>\n      </optional>\n    </interleave>\n  </define>\n</grammar>", "namespace db = \"http://docbook.org/ns/docbook\"\n\ninclude \"docbook.rnc\" inherit = db\n# redefinitions of named patterns\ndb.person.author.contentmodel &=\n  attribute born { db.date.contentmodel }?\n  & attribute died { db.date.contentmodel }?"]}, "{http://docbook.org/ns/docbook}tag": "interleave"}], "{http://docbook.org/ns/docbook}example": {"{http://docbook.org/ns/docbook}title": "Adding attributes", "{http://docbook.org/ns/docbook}programlisting": ["<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<grammar xmlns:db=\"http://docbook.org/ns/docbook\"\n         ns=\"http://docbook.org/ns/docbook\"\n         xmlns=\"http://relaxng.org/ns/structure/1.0\">\n  <include href=\"docbook.rng\"/>\n\n  <define name=\"db.author.attlist\" combine=\"interleave\">\n    <interleave>\n      <optional>\n        <attribute name=\"born\">\n          <ref name=\"db.date.contentmodel\"/>\n        </attribute>\n      </optional>\n      <optional>\n        <attribute name=\"died\">\n          <ref name=\"db.date.contentmodel\"/>\n        </attribute>\n      </optional>\n    </interleave>\n  </define>\n</grammar>", "namespace db = \"http://docbook.org/ns/docbook\"\n\ninclude \"docbook.rnc\" inherit = db\n\ndb.author.attlist &=\n  attribute born { db.date.contentmodel }?\n  & attribute died { db.date.contentmodel }?"]}}, {"{http://docbook.org/ns/docbook}title": "Deleting attributes", "{http://docbook.org/ns/docbook}para": [{"{http://docbook.org/ns/docbook}varname": ["empty", "notAllowed", "db.common.linking.attributes", "empty"], "{http://docbook.org/ns/docbook}xref": null}, {"{http://docbook.org/ns/docbook}varname": ["empty", "notAllowed"]}], "{http://docbook.org/ns/docbook}example": {"{http://docbook.org/ns/docbook}title": "Deleting an attribute", "{http://docbook.org/ns/docbook}programlisting": ["<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<grammar xmlns:db=\"http://docbook.org/ns/docbook\"\n         ns=\"http://docbook.org/ns/docbook\"\n         xmlns=\"http://relaxng.org/ns/structure/1.0\">\n  <include href=\"docbook.rng\">\n    <define name=\"db.common.linking.attributes\">\n      <empty/>\n    </define>\n  </include>\n</grammar>", "namespace db = \"http://docbook.org/ns/docbook\"\n\ninclude \"docbook.rnc\" inherit = db {\n  db.common.linking.attributes = empty\n}"]}}, {"{http://docbook.org/ns/docbook}title": "Changing permitted content of attributes", "{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}xref": null, "{http://docbook.org/ns/docbook}varname": "db.spacing.enumeration", "{http://docbook.org/ns/docbook}quote": "large"}, "{http://docbook.org/ns/docbook}example": {"{http://docbook.org/ns/docbook}title": "Deleting an attribute", "{http://docbook.org/ns/docbook}programlisting": ["<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<grammar xmlns:db=\"http://docbook.org/ns/docbook\"\n         ns=\"http://docbook.org/ns/docbook\"\n         xmlns=\"http://relaxng.org/ns/structure/1.0\">\n  <include href=\"docbook.rng\"/>\n  <!-- add value to an enumeration -->\n  <define name=\"db.spacing.enumeration\" combine=\"choice\">\n    <value>large</value>\n  </define>\n</grammar>", "namespace db = \"http://docbook.org/ns/docbook\"\n\ninclude \"docbook.rnc\" inherit = db\n# add value to an enumeration\ndb.spacing.enumeration |= \"large\""]}}]}, {"{http://docbook.org/ns/docbook}title": "Naming and versioning DocBook customizations", "{http://docbook.org/ns/docbook}para": [{"{http://docbook.org/ns/docbook}uri": "http://docbook.org/ns/docbook", "{http://docbook.org/ns/docbook}tag": "version"}, "Future versions of DocBook documents will start with the same\nmarkup, except the version number will be raised, for example to 5.1\nor 6.0.\nThe namespace will remain the same until the semantics of the elements\nchange in a backward incompatible way, which is very unlikely to happen.", {"{http://docbook.org/ns/docbook}tag": "version", "{http://docbook.org/ns/docbook}quote": "official"}, "When you customize the schema, use the following syntax to\nidentify your DocBook derivation:", "For example:", "The first part of the version identifier is the version number of the\nDocBook schema from which you derived your customization.", {"{http://docbook.org/ns/docbook}literal": ["subset", "extension", "variant"]}, "After these keywords you may add a whitespace separated list of\ncustomization identifiers. Each name may be optionally followed by its\nversion number."], "{http://docbook.org/ns/docbook}programlisting": ["<book xmlns=\"http://docbook.org/ns/docbook\"\n      version=\"5.0\">\n  \u2026\n</book>", {"{http://docbook.org/ns/docbook}replaceable": ["base_version", "name", "version"]}, "5.0-subset simplified-1.0\n5.0-variant ASMBook\n5.0-variant ASMBook-2006\n5.0-extension MathML-2.0 SVG-1.1"]}]}, {"{http://docbook.org/ns/docbook}title": "FAQ", "{http://docbook.org/ns/docbook}qandaset": {"{http://docbook.org/ns/docbook}qandadiv": [{"{http://docbook.org/ns/docbook}title": "Authoring", "{http://docbook.org/ns/docbook}qandaentry": [{"{http://docbook.org/ns/docbook}question": {"{http://docbook.org/ns/docbook}para": "How do I attach a schema to a DocBook V5.0 document when I do not\nwant to use DTDs and !DOCTYPE?"}, "{http://docbook.org/ns/docbook}answer": {"{http://docbook.org/ns/docbook}para": "There is no standard way of associating a RELAX NG schema with a\ndocument. Most tools provide some mechanism for performing this\nassociation, consult the documentation for your application. In some\ntools you must specify schema manually each time you want to\nedit/process your document."}}, {"{http://docbook.org/ns/docbook}question": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}tag": "ndash"}}, "{http://docbook.org/ns/docbook}answer": {"{http://docbook.org/ns/docbook}para": ["Modern schema languages (including RELAX NG and W3X XML Schema)\ndo not provide any means to define entities that can be used for easier\ntyping of special characters. Some editors provide functions or\nspecial toolbars that allow you to easily pick necessary character\nand insert it into document as a raw Unicode character or a numeric\ncharacter reference.", {"{http://docbook.org/ns/docbook}link": "Entity definition\nfiles"}, "For your convenience there is also flattened entity definition\nfile which contains all entity definitions."], "{http://docbook.org/ns/docbook}programlisting": ["<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!DOCTYPE article [\n<!ENTITY % isopub SYSTEM \"http://www.w3.org/2003/entities/iso8879/isopub.ent\">\n%isopub;\n]>\n<article xmlns=\"http://docbook.org/ns/docbook\" version=\"5.0\">\n<title>DocBook V5.0 &ndash; the superb documentation format</title>\n\u2026", "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!DOCTYPE article [\n<!ENTITY % allent SYSTEM \"http://www.w3.org/2003/entities/2007/w3centities-f.ent\">\n%allent;\n]>\n<article xmlns=\"http://docbook.org/ns/docbook\" version=\"5.0\">\n<title>DocBook V5.0 &ndash; the superb documentation format</title>\n\u2026"]}}, {"{http://docbook.org/ns/docbook}question": {"{http://docbook.org/ns/docbook}para": "How to modularize documents?"}, "{http://docbook.org/ns/docbook}answer": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}link": "XInclude", "{http://docbook.org/ns/docbook}quote": "xi", "{http://docbook.org/ns/docbook}filename": ["docbookxi.rnc", "docbook.rnc"]}}}, {"{http://docbook.org/ns/docbook}question": {"{http://docbook.org/ns/docbook}para": "How to validate documents which are composed by XInclude?"}, "{http://docbook.org/ns/docbook}answer": {"{http://docbook.org/ns/docbook}para": ["If you are using XIncludes you should make sure that the final\ndocument after resolving all inclusions is valid DocBook V5.0\ninstance. This means that all XIncludes should be processed before\nvalidation takes place. The following command can be used to enable\nXInclude processing in oNVDL.", {"{http://docbook.org/ns/docbook}option": "-xi"}], "{http://docbook.org/ns/docbook}screen": {"{http://docbook.org/ns/docbook}command": "java", "{http://docbook.org/ns/docbook}replaceable": ["/path/to/oNVDL/", "/path/to/"]}}}]}, {"{http://docbook.org/ns/docbook}title": "Stylesheets", "{http://docbook.org/ns/docbook}qandaentry": {"{http://docbook.org/ns/docbook}question": {"{http://docbook.org/ns/docbook}para": "Will the current DocBook XSL stylesheets (XSLT 1.0 based\nimplementation) be maintained and improved in the future since work on\na new XSLT 2.0 based implementation has started?"}, "{http://docbook.org/ns/docbook}answer": {"{http://docbook.org/ns/docbook}para": ["Yes, the current stylesheets (like 1.73.x) will be supported and\nimproved further because they are very widely deployed and work with\nmany existing XSLT processors.", "Surely there will be a point in a future when all new development\nwill be switched to the XSLT 2.0 based implementation. But this\nwill not happen until all features of the current stylesheets are\nimplemented in the new stylesheets, and until there is more than\none usable XSLT 2.0 processor available."]}}}, {"{http://docbook.org/ns/docbook}title": "Schema customizations", "{http://docbook.org/ns/docbook}qandaentry": [{"{http://docbook.org/ns/docbook}question": {"{http://docbook.org/ns/docbook}para": "How can I extend the DocBook schema with MathML elements?"}, "{http://docbook.org/ns/docbook}answer": {"{http://docbook.org/ns/docbook}para": [{"{http://docbook.org/ns/docbook}tag": "equation"}, "If you need strict validation of MathML content or guided\nediting for MathML, you can easily extend the base DocBook schema with\nthe MathML schema."], "{http://docbook.org/ns/docbook}procedure": {"{http://docbook.org/ns/docbook}title": "Extending the DocBook schema with the MathML schema", "{http://docbook.org/ns/docbook}step": [{"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}link": null, "{http://docbook.org/ns/docbook}filename": "mathml"}}, {"{http://docbook.org/ns/docbook}para": [{"{http://docbook.org/ns/docbook}filename": "dbmathml.rnc"}, {"{http://docbook.org/ns/docbook}filename": "dbmathml.rng"}], "{http://docbook.org/ns/docbook}programlisting": ["namespace html = \"http://www.w3.org/1999/xhtml\"\nnamespace mml = \"http://www.w3.org/1998/Math/MathML\"\nnamespace db = \"http://docbook.org/ns/docbook\"\n\ninclude \"/path/to/docbook.rnc\" {\n  db._any.mml = external \"mathml/mathml2.rnc\"\n  db._any =\n    element * - (db:* | html:* | mml:*) {\n      (attribute * { text }\n       | text\n       | db._any)*\n    }\n}", "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<grammar xmlns=\"http://relaxng.org/ns/structure/1.0\">\n\n<include href=\"/path/to/docbook.rng\">\n  <define name=\"db._any.mml\">\n    <externalRef href=\"mathml/mathml2.rng\"/>\n  </define>\n\n  <define name=\"db._any\">\n    <element>\n      <anyName>\n        <except>\n          <nsName ns=\"http://docbook.org/ns/docbook\"/>\n          <nsName ns=\"http://www.w3.org/1999/xhtml\"/>\n          <nsName ns=\"http://www.w3.org/1998/Math/MathML\"/>\n        </except>\n      </anyName>\n      <zeroOrMore>\n        <choice>\n          <attribute>\n            <anyName/>\n          </attribute>\n          <text/>\n          <ref name=\"db._any\"/>\n        </choice>\n      </zeroOrMore>\n    </element>\n  </define>\n</include>\n\n</grammar>"]}, {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}filename": ["dbmathml.rnc", "dbmathml.rng"]}}]}}}, {"{http://docbook.org/ns/docbook}question": {"{http://docbook.org/ns/docbook}para": "How can I extend the DocBook schema with SVG elements?"}, "{http://docbook.org/ns/docbook}answer": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}tag": "imageobject"}, "{http://docbook.org/ns/docbook}procedure": {"{http://docbook.org/ns/docbook}title": "Extending the DocBook schema with the SVG schema", "{http://docbook.org/ns/docbook}step": [{"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}link": null, "{http://docbook.org/ns/docbook}filename": "svg"}}, {"{http://docbook.org/ns/docbook}para": [{"{http://docbook.org/ns/docbook}filename": "dbsvg.rnc"}, {"{http://docbook.org/ns/docbook}filename": "dbsvg.rng"}], "{http://docbook.org/ns/docbook}programlisting": ["namespace html = \"http://www.w3.org/1999/xhtml\"\nnamespace db = \"http://docbook.org/ns/docbook\"\nnamespace svg = \"http://www.w3.org/2000/svg\"\n\ninclude \"/path/to/docbook.rnc\" {\n  db._any.svg = external \"svg/svg11.rnc\"\n  db._any =\n    element * - (db:* | html:* | svg:*) {\n      (attribute * { text }\n       | text\n       | db._any)*\n    }\n}", "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<grammar xmlns=\"http://relaxng.org/ns/structure/1.0\">\n\n<include href=\"/path/to/docbook.rng\">\n  <define name=\"db._any.svg\">\n    <externalRef href=\"svg/svg11.rng\"/>\n  </define>\n\n  <define name=\"db._any\">\n    <element>\n      <anyName>\n        <except>\n          <nsName ns=\"http://docbook.org/ns/docbook\"/>\n          <nsName ns=\"http://www.w3.org/1999/xhtml\"/>\n          <nsName ns=\"http://www.w3.org/2000/svg\"/>\n        </except>\n      </anyName>\n      <zeroOrMore>\n        <choice>\n          <attribute>\n            <anyName/>\n          </attribute>\n          <text/>\n          <ref name=\"db._any\"/>\n        </choice>\n      </zeroOrMore>\n    </element>\n  </define>\n</include>\n\n</grammar>"]}, {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}filename": ["dbsvg.rnc", "dbsvg.rng"]}}]}}}, {"{http://docbook.org/ns/docbook}question": {"{http://docbook.org/ns/docbook}para": "Is it possible to use the previous two customizations for MathML\nand SVG together?"}, "{http://docbook.org/ns/docbook}answer": {"{http://docbook.org/ns/docbook}para": ["Yes, you can create a special schema customization that combines\nboth MathML and SVG with the DocBook schema. In compact syntax, the merged\nschema is:", "Or alternatively in the full RELAX NG syntax:"], "{http://docbook.org/ns/docbook}programlisting": ["namespace html = \"http://www.w3.org/1999/xhtml\"\nnamespace mml = \"http://www.w3.org/1998/Math/MathML\"\nnamespace db = \"http://docbook.org/ns/docbook\"\nnamespace svg = \"http://www.w3.org/2000/svg\"\n\ninclude \"/path/to/docbook.rnc\" {\n  db._any.mml = external \"mahtml/mathml2.rnc\"\n  db._any.svg = external \"svg/svg11.rnc\"\n  db._any =\n    element * - (db:* | html:* | mml:* | svg:*) {\n      (attribute * { text }\n       | text\n       | db._any)*\n    }\n}", "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<grammar xmlns=\"http://relaxng.org/ns/structure/1.0\">\n\n<include href=\"/path/to/docbook.rng\">\n  <define name=\"db._any.mml\">\n    <externalRef href=\"mathml/mathml2.rng\"/>\n  </define>\n\n  <define name=\"db._any.svg\">\n    <externalRef href=\"svg/svg11.rng\"/>\n  </define>\n\n  <define name=\"db._any\">\n    <element>\n      <anyName>\n        <except>\n          <nsName ns=\"http://docbook.org/ns/docbook\"/>\n          <nsName ns=\"http://www.w3.org/1999/xhtml\"/>\n          <nsName ns=\"http://www.w3.org/1998/Math/MathML\"/>\n          <nsName ns=\"http://www.w3.org/2000/svg\"/>\n        </except>\n      </anyName>\n      <zeroOrMore>\n        <choice>\n          <attribute>\n            <anyName/>\n          </attribute>\n          <text/>\n          <ref name=\"db._any\"/>\n        </choice>\n      </zeroOrMore>\n    </element>\n  </define>\n</include>\n\n</grammar>"]}}, {"{http://docbook.org/ns/docbook}question": {"{http://docbook.org/ns/docbook}para": "Are there any other examples of schema customization\navailable?"}, "{http://docbook.org/ns/docbook}answer": {"{http://docbook.org/ns/docbook}para": "Sure. Some of the are listed bellow:", "{http://docbook.org/ns/docbook}itemizedlist": {"{http://docbook.org/ns/docbook}listitem": [{"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}link": "Sample\ncustomization of ITS and DocBook"}}, {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}link": "Examples on\nDocBook WiKi"}}]}}}]}, {"{http://docbook.org/ns/docbook}title": "Tool specific problems", "{http://docbook.org/ns/docbook}qandaentry": {"{http://docbook.org/ns/docbook}question": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}filename": "docbook.xsd", "{http://docbook.org/ns/docbook}tag": "xml:id"}}, "{http://docbook.org/ns/docbook}answer": {"{http://docbook.org/ns/docbook}para": {"{http://docbook.org/ns/docbook}filename": ["xml.xsd", "xml.xsd"], "{http://docbook.org/ns/docbook}tag": "xml:id"}}}}]}}], "{http://docbook.org/ns/docbook}bibliography": {"{http://docbook.org/ns/docbook}bibliomixed": [{"{http://docbook.org/ns/docbook}abbrev": "RNCTUT", "{http://docbook.org/ns/docbook}title": "RELAX NG Compact Syntax Tutorial", "{http://docbook.org/ns/docbook}bibliomisc": {"{http://docbook.org/ns/docbook}link": null}}, {"{http://docbook.org/ns/docbook}abbrev": "NVDLTUT", "{http://docbook.org/ns/docbook}title": "NVDL Tutorial", "{http://docbook.org/ns/docbook}bibliomisc": {"{http://docbook.org/ns/docbook}link": null}}, {"{http://docbook.org/ns/docbook}abbrev": "XMLID", "{http://docbook.org/ns/docbook}title": "xml:id Version 1.0", "{http://docbook.org/ns/docbook}bibliomisc": {"{http://docbook.org/ns/docbook}link": null}}, {"{http://docbook.org/ns/docbook}abbrev": "DB5SPEC", "{http://docbook.org/ns/docbook}title": "The DocBook Schema", "{http://docbook.org/ns/docbook}bibliomisc": {"{http://docbook.org/ns/docbook}link": null}}]}}}